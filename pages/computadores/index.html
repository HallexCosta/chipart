<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Computadores | ChipArt</title>
  <link rel="stylesheet" href="../../global.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.min.css">
  <link rel="shortcut icon" href="https://www.chipart.com.br/shop/chipart/assets/img/favicon.png?1">
</head>
<body>  
  <div class="container">
    <header>
      <div class="logo">
        <a href="#"><img src="https://www.chipart.com.br/shop/chipart/assets/img/logo-top.png" alt="logo-top"></a>
      </div>
      <div class="search">
        <input type="text" placeholder="BUSCAR PRODUTO">
        <button><i data-feather="search"></i></button>
      </div>
      
      <div class="login-or-register">
        <a href="#">
          <span class="icon"><i data-feather="user"></i></span>
          <span class="text">Entrar/Cadastrar</span>
        </a>
      </div>
      <div class="shopping-cart">
        <a href="#">
          <span><i data-feather="shopping-cart"></i></span>
        </a>
      </div>      
    </header>
    
    <main>
      <nav>
        <a href="./index.html">COMPUTADORES</a>
        <a href="../vai-jogar-o-que/index.html">VAI JOGAR O QUE?</a>
        <a href="../monte-seu-pc-gamer/index.html">MONTE SEU PC GAMER</a>
        <a href="../componentes/index.html">COMPONENTES</a>
      </nav>
    </main>

    <aside>
      <div class="banner">
        <img src="https://www.chipart.com.br/themes/chipart/assets/img/bg-title.png" alt="">
        <section>
          <h1>Computadores</h1>
        </section>
        <img src="https://www.chipart.com.br/themes/chipart/assets/img/bg-title.png" alt="">   
      </div>

      <div class="list-product">
        <div class="header">
          <span><i class="fi-filter"></i></span>
          <span><h1>Filtrar por</h1></span>
        </div>
        <section>
          <nav class="vertical">
            <li class="title">
              <a href="#">CATEGORIA</a>
              <i class="fi-minus"></i>
            </li>
            <ul class="items">
              <li><a href="#black-friday">BLACK FRIDAY</a></li>
              <li><a href="#cabos">Cabos</a></li>
              <li><a href="#componentes">Componentes</a></li>
              <li><a href="index.html" style="color: #6fc81e">Computadores</a></li>
            </ul>
          </nav>
          <div class="cards">
          </div>
        </section>
      </div>
    </aside>

  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.27.0/feather.min.js"></script>
  <script>

    window.addEventListener('load', () => {

      const createListProducts = () => {
        const buttonCategorias = document.querySelector('.container aside .list-product .vertical .title')
        const verticalItems = document.querySelector('.container aside .list-product .vertical .items')

        changeIconAndExpandButtonCategorias = () => {
          const icons = {
            plus: 'fi-plus',
            minus: 'fi-minus'
          }
          const icon = document.querySelector('.container aside .list-product .vertical li i')
          const { plus, minus } = icons
          buttonCategorias.addEventListener('click', () => {
            console.log('Clicked')
            changeIcons()
            expandCategories()
          })

          changeIcons = () => {
            const currentClass = icon.getAttribute('class')
            console.log(`Current class: ${currentClass}`)
            if (currentClass == plus) {
              console.log(`Change ${plus} for ${minus}`)
              icon.classList.remove(plus)
              icon.classList.add(minus)
            } else {
              console.log(`Change ${minus} for ${plus}`)
              icon.classList.remove(minus)
              icon.classList.add(plus)
            }
          }
          
          expandCategories = () => {
            const currentClass = icon.getAttribute('class')
            
            if (currentClass == plus) {
              verticalItems.style.maxHeight = '0'
            } else {
              verticalItems.style.maxHeight = '300px' 
            }
          }
        }

        addClassActivedOnLinkClicked = () => {
          const links = document.querySelectorAll('.container aside .list-product .vertical .items li a')
          
          console.log('Call addClassActivedOnLinkClicked')

          links.forEach(link => {
            link.addEventListener(('click'), () => {
              links.forEach(link => {
                link.style.color = '#000'
                console.log('Load black color in', link)
              })
              link.style.color = '#6fc81e'
            })
          })
        }

        return {
          addClassActivedOnLinkClicked,
          changeIconAndExpandButtonCategorias
        }
      }

      const listProducts = createListProducts()
      listProducts.changeIconAndExpandButtonCategorias()
      listProducts.addClassActivedOnLinkClicked()
    })

  </script>
  <script>
    feather.replace()
  </script>
</body>
</html>
